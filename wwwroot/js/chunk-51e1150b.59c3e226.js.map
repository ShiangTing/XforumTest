{"version":3,"sources":["webpack:///./src/views/MemberCTR.vue?c853","webpack:///./node_modules/core-js/internals/create-html.js","webpack:///./node_modules/core-js/modules/es.string.link.js","webpack:///./node_modules/core-js/internals/string-html-forced.js","webpack:///./src/views/MemberCTR.vue?3266","webpack:///src/views/MemberCTR.vue","webpack:///./src/views/MemberCTR.vue?83e7","webpack:///./src/views/MemberCTR.vue"],"names":["requireObjectCoercible","quot","module","exports","string","tag","attribute","value","S","String","p1","replace","$","createHTML","forcedStringHTMLMethod","target","proto","forced","link","url","this","fails","METHOD_NAME","test","toLowerCase","split","length","render","_vm","_h","$createElement","_c","_self","staticClass","_m","staticStyle","attrs","user","imgLink","ref","on","handleFileUpload","_v","_s","points","model","callback","$$v","$set","expression","inputCanChange","$event","getOptionIdx","selectedIndex","gender","_l","item","idx","key","genderList","titleName","ownerRank","_e","domProps","otherRank","changeRank","updateMember","inputChange","staticRenderFns","components","data","file","userId","email","password","name","age","phone","roleName","updateData","hasRank","show","selectGender","hasImg","methods","$refs","files","formData","FormData","append","method","headers","Authorization","CLIENT_ID","vm","$axios","event","querySelectorAll","rankName","getSingleMember","isAuth","getHasRank","component"],"mappings":"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","file":"js/chunk-51e1150b.59c3e226.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberCTR.vue?vue&type=style&index=0&id=69c47261&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberCTR.vue?vue&type=style&index=0&id=69c47261&lang=scss&scoped=true&\"","var requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar quot = /\"/g;\n\n// B.2.3.2.1 CreateHTML(string, tag, attribute, value)\n// https://tc39.github.io/ecma262/#sec-createhtml\nmodule.exports = function (string, tag, attribute, value) {\n  var S = String(requireObjectCoercible(string));\n  var p1 = '<' + tag;\n  if (attribute !== '') p1 += ' ' + attribute + '=\"' + String(value).replace(quot, '&quot;') + '\"';\n  return p1 + '>' + S + '</' + tag + '>';\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.link` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.link\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('link') }, {\n  link: function link(url) {\n    return createHTML(this, 'a', 'href', url);\n  }\n});\n","var fails = require('../internals/fails');\n\n// check the existence of a method, lowercase\n// of a tag and escaping quotes in arguments\nmodule.exports = function (METHOD_NAME) {\n  return fails(function () {\n    var test = ''[METHOD_NAME]('\"');\n    return test !== test.toLowerCase() || test.split('\"').length > 3;\n  });\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Navbar'),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"d-flex flex-column mt-5\"},[_vm._m(0),_c('div',{staticClass:\"mt-3\"},[(_vm.hasImg)?_c('img',{staticStyle:{\"border\":\"1px dashed wheat\"},attrs:{\"id\":\"blah\",\"alt\":\"上傳您的頭像\",\"width\":\"100\",\"height\":\"100\",\"src\":_vm.user.imgLink}}):_c('img',{staticStyle:{\"border\":\"1px dashed wheat\"},attrs:{\"id\":\"blah\",\"src\":_vm.user.imgLink,\"alt\":\"上傳您的頭像\",\"width\":\"100\",\"height\":\"100\"}})]),_c('input',{ref:\"file\",staticClass:\"mt-3\",attrs:{\"type\":\"file\",\"name\":\"file\"},on:{\"change\":_vm.handleFileUpload}})]),_c('div',{staticClass:\"d-flex flex-column mt-5 ml-5\"},[_vm._m(1),_c('h3',[_c('b',[_vm._v(\"$\"+_vm._s(_vm.user.points))])])])]),_c('b-form',[_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col\"},[_c('b-form-group',[_c('h4',[_c('b',[_vm._v(\"帳號名稱\")])]),_c('b-form-input',{attrs:{\"type\":\"email\",\"required\":\"\",\"readonly\":\"\"},model:{value:(_vm.user.email),callback:function ($$v) {_vm.$set(_vm.user, \"email\", $$v)},expression:\"user.email\"}})],1)],1),_c('div',{staticClass:\"col\"},[_c('h4',[_c('b',[_vm._v(\"暱稱\")])]),_c('b-form-group',[_c('div',{staticClass:\"d-flex\"},[_c('b-form-input',{attrs:{\"id\":\"input-2\",\"required\":\"\",\"placeholder\":\"Enter name\",\"disabled\":_vm.inputCanChange},model:{value:(_vm.user.name),callback:function ($$v) {_vm.$set(_vm.user, \"name\", $$v)},expression:\"user.name\"}})],1)])],1),_c('div',{staticClass:\"col\"},[_c('h4',[_c('b',[_vm._v(\"年齡\")])]),_c('b-form-group',[_c('div',{staticClass:\"d-flex\"},[_c('b-form-input',{attrs:{\"type\":\"number\",\"min\":\"1\",\"required\":\"\",\"disabled\":_vm.inputCanChange},model:{value:(_vm.user.age),callback:function ($$v) {_vm.$set(_vm.user, \"age\", $$v)},expression:\"user.age\"}})],1)])],1)]),_c('div',{staticClass:\"row mt-5\"},[_c('div',{staticClass:\"col\"},[_c('h4',[_c('b',[_vm._v(\"性別\")])]),_c('b-form-group',[_c('select',{staticStyle:{\"width\":\"51%\",\"height\":\"38px\",\"border-radius\":\"5px\",\"background-color\":\"#ddd\"},attrs:{\"disabled\":_vm.inputCanChange},on:{\"change\":function($event){return _vm.getOptionIdx($event, $event.target.selectedIndex)}}},[_c('option',{attrs:{\"disabled\":\"\",\"selected\":\"\"}},[_vm._v(_vm._s(_vm.user.gender))]),_vm._l((_vm.genderList),function(item,idx){return _c('option',{key:idx,attrs:{\"id\":_vm.genderList[idx]}},[_vm._v(\" \"+_vm._s(item)+\" \")])})],2)])],1),_c('div',{staticClass:\"col\"},[_c('h4',[_c('b',[_vm._v(\"電話\")])]),_c('b-form-group',[_c('div',{staticClass:\"d-flex\"},[_c('b-form-input',{attrs:{\"type\":\"text\",\"required\":\"\",\"disabled\":_vm.inputCanChange},model:{value:(_vm.user.phone),callback:function ($$v) {_vm.$set(_vm.user, \"phone\", $$v)},expression:\"user.phone\"}})],1)])],1),_c('div',{staticClass:\"col\"},[_c('h4',[_c('b',[_vm._v(\"權限\")])]),_c('b-form-group',[_c('div',{staticClass:\"d-flex\"},[_c('b-form-input',{attrs:{\"type\":\"text\",\"readonly\":\"\"},model:{value:(_vm.user.roleName),callback:function ($$v) {_vm.$set(_vm.user, \"roleName\", $$v)},expression:\"user.roleName\"}})],1)])],1)]),_c('h4',{staticClass:\"text-center my-5\"},[_c('b',[_vm._v(\"已經擁有的稱號\")])]),_c('div',{staticClass:\"d-flex justify-content-center mb-5\"},_vm._l((_vm.hasRank),function(item,idx){return _c('div',{key:idx,staticClass:\"d-inline-block\"},[(item.titleName == _vm.user.ownerRank)?_c('div',[_c('font-awesome-icon',{attrs:{\"icon\":\"crown\"}}),_c('span',{staticClass:\"badge badge-primary m-3 p-2\"},[_vm._v(_vm._s(_vm.user.ownerRank))])],1):_vm._e(),_c('span',{staticClass:\"badge badge-info m-3 p-2 ownerRank\",domProps:{\"textContent\":_vm._s(_vm.otherRank(item.titleName))},on:{\"click\":function($event){return _vm.changeRank(item.titleName)}}})])}),0),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('b-button',{attrs:{\"pill\":\"\",\"variant\":\"primary\"},on:{\"click\":_vm.updateMember}},[_vm._v(\"提交修改\")]),(_vm.inputCanChange)?_c('b-button',{staticClass:\"ml-2\",attrs:{\"pill\":\"\",\"variant\":\"outline-secondary\"},on:{\"click\":_vm.inputChange}},[_vm._v(\"修改會員資料\")]):_c('b-button',{staticClass:\"ml-2\",attrs:{\"pill\":\"\",\"variant\":\"info\"},on:{\"click\":_vm.inputChange}},[_vm._v(\"完成修改\")])],1)])],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('b',[_vm._v(\"會員頭像\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('h4',[_c('b',[_vm._v(\"X幣\")])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <Navbar />\r\n    <div class=\"container\">\r\n      <div class=\"d-flex\">\r\n        <div class=\"d-flex flex-column mt-5\">\r\n          <h4><b>會員頭像</b></h4>\r\n          <div class=\"mt-3\">\r\n            <img\r\n              style=\"border: 1px dashed wheat\"\r\n              v-if=\"hasImg\"\r\n              id=\"blah\"\r\n              alt=\"上傳您的頭像\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n              :src=\"user.imgLink\"\r\n            />\r\n            <img\r\n              style=\"border: 1px dashed wheat\"\r\n              v-else\r\n              id=\"blah\"\r\n              :src=\"user.imgLink\"\r\n              alt=\"上傳您的頭像\"\r\n              width=\"100\"\r\n              height=\"100\"\r\n            />\r\n          </div>\r\n\r\n          <input\r\n            class=\"mt-3\"\r\n            type=\"file\"\r\n            name=\"file\"\r\n            ref=\"file\"\r\n            @change=\"handleFileUpload\"\r\n          />\r\n        </div>\r\n        <div class=\"d-flex flex-column mt-5 ml-5\">\r\n          <h4><b>X幣</b></h4>\r\n          <h3>\r\n            <b>${{ user.points }}</b>\r\n          </h3>\r\n        </div>\r\n      </div>\r\n      <b-form>\r\n        <div class=\"row mt-5\">\r\n          <div class=\"col\">\r\n            <b-form-group>\r\n              <h4><b>帳號名稱</b></h4>\r\n              <b-form-input\r\n                v-model=\"user.email\"\r\n                type=\"email\"\r\n                required\r\n                readonly\r\n              ></b-form-input>\r\n            </b-form-group>\r\n          </div>\r\n          <div class=\"col\">\r\n            <h4><b>暱稱</b></h4>\r\n            <b-form-group>\r\n              <div class=\"d-flex\">\r\n                <b-form-input\r\n                  id=\"input-2\"\r\n                  v-model=\"user.name\"\r\n                  required\r\n                  placeholder=\"Enter name\"\r\n                  :disabled=\"inputCanChange\"\r\n                ></b-form-input>\r\n              </div>\r\n            </b-form-group>\r\n          </div>\r\n          <div class=\"col\">\r\n            <h4><b>年齡</b></h4>\r\n            <b-form-group>\r\n              <div class=\"d-flex\">\r\n                <b-form-input\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                  v-model=\"user.age\"\r\n                  required\r\n                  :disabled=\"inputCanChange\"\r\n                ></b-form-input>\r\n              </div>\r\n            </b-form-group>\r\n          </div>\r\n        </div>\r\n        <div class=\"row mt-5\">\r\n          <div class=\"col\">\r\n            <h4><b>性別</b></h4>\r\n            <b-form-group>\r\n              <select\r\n                style=\"\r\n                  width: 51%;\r\n                  height: 38px;\r\n                  border-radius: 5px;\r\n                  background-color: #ddd;\r\n                \"\r\n                @change=\"getOptionIdx($event, $event.target.selectedIndex)\"\r\n                :disabled=\"inputCanChange\"\r\n              >\r\n                <option disabled selected>{{ user.gender }}</option>\r\n                <option\r\n                  v-for=\"(item, idx) in genderList\"\r\n                  :key=\"idx\"\r\n                  :id=\"genderList[idx]\"\r\n                >\r\n                  {{ item }}\r\n                </option>\r\n              </select>\r\n            </b-form-group>\r\n          </div>\r\n          <div class=\"col\">\r\n            <h4><b>電話</b></h4>\r\n            <b-form-group>\r\n              <div class=\"d-flex\">\r\n                <b-form-input\r\n                  type=\"text\"\r\n                  v-model=\"user.phone\"\r\n                  required\r\n                  :disabled=\"inputCanChange\"\r\n                ></b-form-input>\r\n              </div>\r\n            </b-form-group>\r\n          </div>\r\n          <div class=\"col\">\r\n            <h4><b>權限</b></h4>\r\n            <b-form-group>\r\n              <div class=\"d-flex\">\r\n                <b-form-input\r\n                  type=\"text\"\r\n                  v-model=\"user.roleName\"\r\n                  readonly\r\n                ></b-form-input>\r\n              </div>\r\n            </b-form-group>\r\n          </div>\r\n        </div>\r\n        <h4 class=\"text-center my-5\"><b>已經擁有的稱號</b></h4>\r\n        <div class=\"d-flex justify-content-center mb-5\">\r\n          <div v-for=\"(item, idx) in hasRank\" :key=\"idx\" class=\"d-inline-block\">\r\n            <div v-if=\"item.titleName == user.ownerRank\">\r\n              <font-awesome-icon icon=\"crown\" />\r\n              <span class=\"badge badge-primary m-3 p-2\">{{\r\n                user.ownerRank\r\n              }}</span>\r\n            </div>\r\n            <span\r\n              class=\"badge badge-info m-3 p-2 ownerRank\"\r\n              v-text=\"otherRank(item.titleName)\"\r\n              @click=\"changeRank(item.titleName)\"\r\n            ></span>\r\n          </div>\r\n        </div>\r\n\r\n        <div class=\"d-flex justify-content-center\">\r\n          <b-button pill variant=\"primary\" @click=\"updateMember\"\r\n            >提交修改</b-button\r\n          >\r\n          <b-button\r\n            pill\r\n            variant=\"outline-secondary\"\r\n            class=\"ml-2\"\r\n            v-if=\"inputCanChange\"\r\n            @click=\"inputChange\"\r\n            >修改會員資料</b-button\r\n          >\r\n          <b-button v-else pill variant=\"info\" class=\"ml-2\" @click=\"inputChange\"\r\n            >完成修改</b-button\r\n          >\r\n        </div>\r\n      </b-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"../components/common/Navbar\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  components: { Navbar },\r\n  data() {\r\n    return {\r\n      file: \"\",\r\n      //////////////////////\r\n      inputCanChange: true,\r\n      user: {\r\n        userId: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        name: \"\",\r\n        age: \"\",\r\n        phone: \"\",\r\n        points: \"\",\r\n        roleName: \"\",\r\n        gender: \"\",\r\n        ownerRank: \"\",\r\n        imgLink: \"\",\r\n      },\r\n      updateData: {\r\n        name: \"\",\r\n        password: \"\",\r\n        age: \"\",\r\n        phone: \"\",\r\n        gender: \"\",\r\n        titleName: \"\",\r\n        imgLink: \"\",\r\n      },\r\n      hasRank: [],\r\n      show: true,\r\n      selectGender: \"\",\r\n      genderList: [\"female\", \"male\"],\r\n      hasImg: false,\r\n    };\r\n  },\r\n  methods: {\r\n    handleFileUpload() {\r\n      this.file = this.$refs.file.files[0];\r\n      const CLIENT_ID = \"3d78cf6e67ed6af\";\r\n      var formData = new FormData();\r\n      formData.append(\"image\", this.file);\r\n      axios({\r\n        url: \"https://api.imgur.com/3/image\",\r\n        method: \"POST\",\r\n        headers: {\r\n          Authorization: \"Client-ID \" + CLIENT_ID,\r\n        },\r\n        data: formData,\r\n      })\r\n        .then((result) => {\r\n          let url = result.data.data.link;\r\n          this.user.imgLink = url;\r\n          this.hasImg = true;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    updateMember() {\r\n      let vm = this;\r\n      vm.updateData.name = vm.user.name;\r\n      vm.updateData.password = vm.user.password;\r\n      vm.updateData.age = vm.user.age;\r\n      vm.updateData.phone = vm.user.phone;\r\n      vm.updateData.gender = vm.user.gender;\r\n      vm.updateData.titleName = vm.user.ownerRank;\r\n      vm.updateData.imgLink = vm.user.imgLink;\r\n      this.$axios\r\n        .patch(\r\n          process.env.VUE_APP_API + \"/api/Users/UpdateMember\",\r\n          vm.updateData\r\n        )\r\n        .then(() => {\r\n          console.log(\"成功\");\r\n          vm.$router.go(0);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    getOptionIdx: function (event, selectedIndex) {\r\n      this.user.gender = event.target.querySelectorAll(\"option\")[\r\n        selectedIndex\r\n      ].id;\r\n    },\r\n    inputChange() {\r\n      return this.inputCanChange\r\n        ? (this.inputCanChange = false)\r\n        : (this.inputCanChange = true);\r\n    },\r\n    changeRank(rankName) {\r\n      let vm = this;\r\n      vm.user.ownerRank = rankName;\r\n    },\r\n    otherRank(rankName) {\r\n      if (rankName !== this.user.ownerRank) {\r\n        return rankName;\r\n      }\r\n    },\r\n    getSingleMember() {\r\n      let vm = this;\r\n      let auth = vm.$store.state.tokenModule;\r\n      let isAuth = auth.isAuthorize;\r\n      let token = auth.token;\r\n      const url = process.env.VUE_APP_API + \"/api/Users/GetSingleMember\";\r\n      if (isAuth) {\r\n        vm.$axios({\r\n          url: url,\r\n          method: \"GET\",\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        })\r\n          .then((res) => {\r\n            vm.user.email = res.data.data.email;\r\n            vm.user.name = res.data.data.name;\r\n            vm.user.userId = res.data.data.userId;\r\n            vm.user.ownerRank = res.data.data.titleName;\r\n            vm.user.age = res.data.data.age;\r\n            vm.user.gender = res.data.data.gender;\r\n            vm.user.phone = res.data.data.phone;\r\n            vm.user.points = res.data.data.points;\r\n            vm.user.roleName = res.data.data.roleName;\r\n            vm.user.imgLink = res.data.data.imgLink;\r\n            vm.user.password = res.data.data.password;\r\n\r\n            this.getHasRank();\r\n          })\r\n\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      }\r\n    },\r\n    getHasRank() {\r\n      let vm = this;\r\n      const getHasRank = process.env.VUE_APP_API + \"/api/Title/GetHasTitles\";\r\n      vm.$axios({\r\n        url: getHasRank + \"/\" + vm.user.userId,\r\n        method: \"GET\",\r\n      })\r\n        .then((resHasRank) => {\r\n          resHasRank.data.forEach((element) => {\r\n            vm.hasRank.push(element);\r\n          });\r\n        })\r\n        .catch((err) => console.log(err.response));\r\n    },\r\n  },\r\n  async created() {\r\n    await this.getSingleMember();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\ninput {\r\n  width: 80%;\r\n}\r\n.ownerRank {\r\n  cursor: pointer;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberCTR.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MemberCTR.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MemberCTR.vue?vue&type=template&id=69c47261&scoped=true&\"\nimport script from \"./MemberCTR.vue?vue&type=script&lang=js&\"\nexport * from \"./MemberCTR.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MemberCTR.vue?vue&type=style&index=0&id=69c47261&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69c47261\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}