{"version":3,"sources":["webpack:///./src/views/Index.vue?1aa3","webpack:///./src/views/Index.vue?275e","webpack:///src/views/Index.vue","webpack:///./src/views/Index.vue?215d","webpack:///./src/views/Index.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","directives","name","rawName","value","expression","_l","article","$index","key","on","$event","goToArticle","postId","staticStyle","_v","_s","userName","rank","forumName","domProps","CreateDate","createdDate","title","filterDescription","description","getFirstImg","infiniteArticles","length","articles","_e","staticRenderFns","components","Sidebar","data","page","list","count","busy","methods","date","substring","replace","span","innerHTML","index","imgTag","parentNode","removeChild","pTagGroup","classList","add","outerHTML","loadMoreData","setTimeout","i","j","vm","$router","push","component"],"mappings":"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","file":"js/chunk-08364580.2bcd81c1.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=6a787e54&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=style&index=0&id=6a787e54&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('b-container',{attrs:{\"fluid\":\"\"}},[_c('b-row',[_c('b-col',[_c('Sidebar',{staticClass:\"sidebar\"})],1),_c('b-col',{attrs:{\"cols\":\"8\"}},[_c('div',[_c('vue-particles',{attrs:{\"color\":\"#dedede\",\"particleOpacity\":0.7,\"particlesNumber\":80,\"shapeType\":\"circle\",\"particleSize\":4,\"linesColor\":\"#dedede\",\"linesWidth\":1,\"lineLinked\":true,\"lineOpacity\":0.4,\"linesDistance\":150,\"moveSpeed\":5,\"hoverEffect\":false,\"hoverMode\":\"grab\",\"clickEffect\":false,\"clickMode\":\"push\"}}),_c('div',{directives:[{name:\"infinite-scroll\",rawName:\"v-infinite-scroll\",value:(_vm.loadMoreData),expression:\"loadMoreData\"}],staticClass:\"infinite-scroll\",attrs:{\"infinite-scroll-disabled\":\"busy\",\"infinite-scroll-distance\":\"15\"}},[_vm._l((_vm.infiniteArticles),function(article,$index){return _c('div',{key:$index,staticClass:\"post-section\",on:{\"click\":function($event){return _vm.goToArticle(article.postId)}}},[_c('div',{staticClass:\"d-flex justify-content-between align-items-center w-100\",staticStyle:{\"padding\":\"10px 20px\"}},[_c('div',[_c('font-awesome-icon',{attrs:{\"icon\":\"user\",\"size\":\"lg\"}}),_c('div',{staticClass:\"user\"},[_c('span',{staticClass:\"userName\"},[_vm._v(_vm._s(article.userName))]),_c('span',{staticClass:\"userName\"},[_c('b',[_vm._v(_vm._s(article.rank))])]),_c('span',[_vm._v(_vm._s(article.forumName))])]),_c('p',{staticClass:\"pt-2\",domProps:{\"textContent\":_vm._s(_vm.CreateDate(article.createdDate))}}),_c('h6',[_vm._v(_vm._s(article.title))]),_c('div',{staticStyle:{\"width\":\"300px\"},domProps:{\"innerHTML\":_vm._s(_vm.filterDescription(article.description))}})],1),_c('div',{staticClass:\"previewImg d-flex\",domProps:{\"innerHTML\":_vm._s(_vm.getFirstImg(article.description))}})])])}),(_vm.infiniteArticles.length !== _vm.articles.length)?_c('div',{staticClass:\"d-flex justify-content-center mt-3\"},[_c('span',{staticClass:\"mr-5 text-primary\"},[_vm._v(\"載入中請稍等哦!!\")]),_c('b-spinner',{attrs:{\"label\":\"Loading...\"}})],1):_vm._e()],2)],1)]),_c('b-col')],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <b-container fluid>\r\n      <b-row>\r\n        <b-col> <Sidebar class=\"sidebar\" /></b-col>\r\n        <b-col cols=\"8\">\r\n          <div>\r\n            <!-- 這裡是index區域的貼文 -->\r\n            <vue-particles\r\n              color=\"#dedede\"\r\n              :particleOpacity=\"0.7\"\r\n              :particlesNumber=\"80\"\r\n              shapeType=\"circle\"\r\n              :particleSize=\"4\"\r\n              linesColor=\"#dedede\"\r\n              :linesWidth=\"1\"\r\n              :lineLinked=\"true\"\r\n              :lineOpacity=\"0.4\"\r\n              :linesDistance=\"150\"\r\n              :moveSpeed=\"5\"\r\n              :hoverEffect=\"false\"\r\n              hoverMode=\"grab\"\r\n              :clickEffect=\"false\"\r\n              clickMode=\"push\"\r\n            >\r\n            </vue-particles>\r\n\r\n            <div\r\n              class=\"infinite-scroll\"\r\n              v-infinite-scroll=\"loadMoreData\"\r\n              infinite-scroll-disabled=\"busy\"\r\n              infinite-scroll-distance=\"15\"\r\n            >\r\n              <div\r\n                class=\"post-section\"\r\n                v-for=\"(article, $index) in infiniteArticles\"\r\n                :key=\"$index\"\r\n                @click=\"goToArticle(article.postId)\"\r\n              >\r\n                <div\r\n                  style=\"padding: 10px 20px\"\r\n                  class=\"d-flex justify-content-between align-items-center w-100\"\r\n                >\r\n                  <div>\r\n                    <font-awesome-icon icon=\"user\" size=\"lg\" />\r\n                    <div class=\"user\">\r\n                      <span class=\"userName\">{{ article.userName }}</span>\r\n                      <span class=\"userName\"\r\n                        ><b>{{ article.rank }}</b></span\r\n                      >\r\n                      <span>{{ article.forumName }}</span>\r\n                    </div>\r\n\r\n                    <p\r\n                      v-text=\"CreateDate(article.createdDate)\"\r\n                      class=\"pt-2\"\r\n                    ></p>\r\n                    <h6>{{ article.title }}</h6>\r\n                    <div\r\n                      style=\"width: 300px\"\r\n                      v-html=\"filterDescription(article.description)\"\r\n                    ></div>\r\n                  </div>\r\n                  <div\r\n                    class=\"previewImg d-flex\"\r\n                    v-html=\"getFirstImg(article.description)\"\r\n                  ></div>\r\n                </div>\r\n              </div>\r\n              <div\r\n                class=\"d-flex justify-content-center mt-3\"\r\n                v-if=\"infiniteArticles.length !== articles.length\"\r\n              >\r\n                <span class=\"mr-5 text-primary\">載入中請稍等哦!!</span>\r\n                <b-spinner label=\"Loading...\"></b-spinner>\r\n              </div>\r\n              <!-- <div v-else class=\"text-center mt-3 text-primary\">載入完畢!!</div> -->\r\n            </div>\r\n          </div>\r\n        </b-col>\r\n        <b-col></b-col>\r\n      </b-row>\r\n    </b-container>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  components: {\r\n    // InfiniteLoading,\r\n    // SideBar,\r\n    Sidebar: () => import(\"@/components/Home/Sidbar\"),\r\n  },\r\n  data() {\r\n    return {\r\n      page: 1,\r\n      list: [],\r\n      count: 0, //要推入的資料筆數\r\n      infiniteArticles: [], //inifinite scroll渲染的部分\r\n      busy: false, //true觸發載入，false停止載入\r\n      articles: [], //全部的資料\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    CreateDate(date) {\r\n      return date.substring(0, 10).replace(/-/g, \"/\");\r\n    },\r\n    filterDescription(description) {\r\n      let span = document.createElement(\"span\");\r\n      span.innerHTML = description;\r\n      // 刪img\r\n      let imgTag = span.getElementsByTagName(\"img\"),\r\n        index;\r\n      for (index = imgTag.length - 1; index >= 0; index--) {\r\n        imgTag[index].parentNode.removeChild(imgTag[index]);\r\n      }\r\n      // 第一個p\r\n      let pTagGroup = span.getElementsByTagName(\"p\");\r\n\r\n      for (index = pTagGroup.length - 1; index >= 0; index--) {\r\n        if (index !== 0) {\r\n          pTagGroup[index].parentNode.removeChild(pTagGroup[index]);\r\n        } else {\r\n          pTagGroup[index].classList.add(\"ellipsis\");\r\n        }\r\n      }\r\n      return span.innerHTML;\r\n    },\r\n    getFirstImg(data) {\r\n      let span = document.createElement(\"span\");\r\n      span.innerHTML = data;\r\n      let imgTag = span.querySelector(\"img\");\r\n      if (imgTag != null) {\r\n        return imgTag.outerHTML;\r\n      } else {\r\n        return `<img src=\"https://i.imgur.com/Ix6074X.png\">`;\r\n      }\r\n    },\r\n    loadMoreData: function () {\r\n      if (this.infiniteArticles.length <= this.articles.length) {\r\n        this.busy = true;\r\n        setTimeout(() => {\r\n          for (var i = 0, j = 5; i < j; i++) {\r\n            if (this.count === this.articles.length) {\r\n              break;\r\n            }\r\n            this.infiniteArticles.push(this.articles[this.count++]);\r\n          }\r\n          this.busy = false;\r\n        }, 10);\r\n      }\r\n    },\r\n    async GetAll() {\r\n      const url = process.env.VUE_APP_API + \"/api/Post/GetAllPosts\";\r\n      await this.$axios\r\n        .get(url)\r\n        .then((response) => {\r\n          console.log(response.data);\r\n          response.data.reverse().forEach((item) => {\r\n            this.articles.push(item);\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    goToArticle(id) {\r\n      let vm = this;\r\n      vm.$router.push(`/article/${id}`);\r\n    },\r\n  },\r\n  async created() {\r\n    await this.GetAll();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n$description: rgba(0, 0, 0, 1) !important;\r\n\r\n.post-section {\r\n  border-bottom: 1px solid rgba($color: gray, $alpha: 0.2);\r\n  display: flex;\r\n  .user {\r\n    display: inline-block;\r\n    padding-left: 5px;\r\n    color: rgba($color: #000000, $alpha: 0.5);\r\n    font-size: 16px;\r\n    .userName {\r\n      &::after {\r\n        content: (\"|\");\r\n        padding: 0 5px;\r\n      }\r\n    }\r\n  }\r\n\r\n  h6 {\r\n    color: #000;\r\n\r\n    font-size: 18px;\r\n    font-weight: bold;\r\n  }\r\n}\r\n/deep/ .ellipsis {\r\n  font-weight: normal;\r\n  width: 100%;\r\n  font-size: 14px;\r\n  color: $description;\r\n  overflow: hidden;\r\n  /* word-wrap: break-word; */\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  display: inline-block;\r\n  & > * {\r\n    color: $description;\r\n  }\r\n}\r\n/deep/ .previewImg {\r\n  width: 100px;\r\n  height: 100px;\r\n  img {\r\n    height: 100%;\r\n    width: 100%;\r\n  }\r\n}\r\n@media screen and (max-width: 996px) {\r\n  .sidebar {\r\n    display: none;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--11-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=6a787e54&scoped=true&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Index.vue?vue&type=style&index=0&id=6a787e54&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6a787e54\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}